{"version":3,"sources":["webpack:///webpack/bootstrap e21f295074277642a14c","webpack:///./src/constants.js","webpack:///./src/EventListener.js","webpack:///./src/eventize.js","webpack:///./src/inject.js","webpack:///./src/EventStore.js","webpack:///./src/propUtils.js","webpack:///./src/subscribeTo.js","webpack:///./src/logUtils.js"],"names":["EVENT_CATCH_EM_ALL","LISTENER_UNKNOWN","LISTENER_IS_FUNC","LISTENER_IS_NAMED_FUNC","LISTENER_IS_OBJ","PRIO_MAX","Number","POSITIVE_INFINITY","PRIO_A","PRIO_B","PRIO_C","PRIO_DEFAULT","PRIO_LOW","PRIO_MIN","NEGATIVE_INFINITY","NAMESPACE","Symbol","eventize","apply","context","func","args","emit","eventName","listener","concat","detectListenerType","lastId","createUniqId","EventListener","constructor","priority","listenerObject","id","isCatchEmAll","listenerType","callAfterApply","undefined","isRemoved","isEqual","obj","inject","extend","Object","create","eventizer","on","is","assign","injectEventizeApi","removeListener","off","store","once","listeners","Array","isArray","forEach","remove","event","sortByPrioAndId","a","b","cloneArray","arr","slice","removeListenerItem","idx","indexOf","splice","findIndex","item","removeAllListeners","li","length","EventStore","namedListeners","Map","catchEmAllListeners","add","eventListener","push","sort","get","set","bind","clear","fn","iLen","jLen","i","j","cur","definePublicPropertyRO","name","value","defineProperty","configurable","enumerable","definePublicPropertiesRO","attrs","keys","len","defineHiddenPropertyRO","registerEventListener","subscribeTo","typeOfFirstArg","register","map","hasConsole","console","warn"],"mappings":"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","file":"eventize.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap e21f295074277642a14c","export const EVENT_CATCH_EM_ALL = '*';\n\nexport const LISTENER_UNKNOWN       = 0;\nexport const LISTENER_IS_FUNC       = 1;\nexport const LISTENER_IS_NAMED_FUNC = 2;\nexport const LISTENER_IS_OBJ        = 4;\n\nexport const PRIO_MAX     = Number.POSITIVE_INFINITY;\nexport const PRIO_A       = 1000000000;\nexport const PRIO_B       = 1000000;\nexport const PRIO_C       = 1000;\nexport const PRIO_DEFAULT = 0;\nexport const PRIO_LOW     = -10000;\nexport const PRIO_MIN     = Number.NEGATIVE_INFINITY;\n\nexport const NAMESPACE = (() => {\n  if (!Symbol.eventize) {\n    Symbol.eventize = Symbol('eventize');\n  }\n  return Symbol.eventize;\n})();\n\n\n\n// WEBPACK FOOTER //\n// ./src/constants.js","import {\n  EVENT_CATCH_EM_ALL,\n  LISTENER_IS_FUNC,\n  LISTENER_IS_NAMED_FUNC,\n  LISTENER_IS_OBJ,\n} from './constants';\n\nconst apply = (context, func, args) => {\n  if (typeof func === 'function') {\n    func.apply(context, args);\n  }\n};\n\nconst emit = (eventName, listener, args) => apply(\n  listener,\n  listener.emit,\n  [eventName].concat(args),\n);\n\nconst detectListenerType = (listener) => {\n  switch (typeof listener) {\n    case 'function':\n      return LISTENER_IS_FUNC;\n    case 'string':\n      return LISTENER_IS_NAMED_FUNC;\n    case 'object':\n      return LISTENER_IS_OBJ;\n  }\n};\n\nlet lastId = 0;\nconst createUniqId = () => ++lastId;\n\nexport default class EventListener {\n  constructor(eventName, priority, listener, listenerObject = null) {\n    this.id = createUniqId();\n    this.eventName = eventName;\n    this.isCatchEmAll = eventName === EVENT_CATCH_EM_ALL;\n    this.listener = listener;\n    this.listenerObject = listenerObject;\n    this.priority = priority;\n    this.listenerType = detectListenerType(listener);\n    this.callAfterApply = undefined;\n    this.isRemoved = false;\n  }\n\n  isEqual(listener, listenerObject = null) {\n    if (listener === this) return true;\n    if (typeof listener === 'number' && listener === this.id) return true;\n    if (listenerObject === null && typeof listener === 'string') {\n      if (listener === EVENT_CATCH_EM_ALL) return true;\n      if (listener === this.eventName) return true;\n      return false;\n    }\n    return this.listener === listener && this.listenerObject === listenerObject;\n  }\n\n  apply(eventName, args) {\n    if (this.isRemoved) return;\n\n    const { listener, listenerObject } = this;\n\n    switch (this.listenerType) {\n      case LISTENER_IS_FUNC:\n        apply(listenerObject, listener, args);\n        if (this.callAfterApply) this.callAfterApply();\n        break;\n\n      case LISTENER_IS_NAMED_FUNC:\n        apply(listenerObject, listenerObject[listener], args);\n        if (this.callAfterApply) this.callAfterApply();\n        break;\n\n      case LISTENER_IS_OBJ: {\n        const func = listener[eventName];\n        if (this.isCatchEmAll || this.eventName === eventName) {\n          if (typeof func === 'function') {\n            func(...args);\n          } else {\n            emit(eventName, listener, args);\n          }\n          if (this.callAfterApply) this.callAfterApply();\n        }\n        break;\n      }\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/EventListener.js","import injectEventizeApi from './inject';\n\nimport {\n  EVENT_CATCH_EM_ALL,\n  NAMESPACE,\n  PRIO_A,\n  PRIO_B,\n  PRIO_C,\n  PRIO_DEFAULT,\n  PRIO_LOW,\n  PRIO_MAX,\n  PRIO_MIN,\n} from './constants';\n\nfunction eventize(obj) {\n  return injectEventizeApi(obj);\n}\n\neventize.inject = injectEventizeApi;\n\neventize.extend = obj => injectEventizeApi(Object.create(obj));\n\neventize.create = (obj) => {\n  const eventizer = injectEventizeApi({});\n  eventizer.on(EVENT_CATCH_EM_ALL, PRIO_DEFAULT, obj);\n  return eventizer;\n};\n\neventize.is = obj => !!(obj && obj[NAMESPACE]);\n\nObject.assign(eventize, {\n  PRIO_MAX,\n  PRIO_A,\n  PRIO_B,\n  PRIO_C,\n  PRIO_DEFAULT,\n  PRIO_LOW,\n  PRIO_MIN,\n});\n\nexport default eventize;\nexport {\n  EVENT_CATCH_EM_ALL,\n  NAMESPACE,\n  PRIO_MAX,\n  PRIO_A,\n  PRIO_B,\n  PRIO_C,\n  PRIO_DEFAULT,\n  PRIO_LOW,\n  PRIO_MIN,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/eventize.js","import EventStore from './EventStore';\nimport { defineHiddenPropertyRO } from './propUtils';\nimport subscribeTo from './subscribeTo';\n\nimport {\n  EVENT_CATCH_EM_ALL,\n  NAMESPACE,\n} from './constants';\n\nconst removeListener = obj => (listener) => {\n  listener.callAfterApply = () => obj.off(listener);\n};\n\nexport default function injectEventizeApi(obj) {\n  if (obj[NAMESPACE]) return obj;\n\n  const store = new EventStore();\n  defineHiddenPropertyRO(obj, NAMESPACE, store);\n\n  Object.assign(obj, {\n    // ----------------------------------------------------------------------------------------\n    //\n    // .on( eventName*, [ priority, ] listenerFunc [, listenerObject] )\n    // .on( eventName*, [ priority, ] listenerFuncName, listenerObject )\n    // .on( eventName*, [ priority, ] listenerObject )\n    //\n    // .on( [ priority, ] listenerFunc [, listenerObject] )\n    //                                            => listenerObject.on( '*', listenerFunc )\n    // .on( [ priority, ] listenerObject )\n    //                                            => listenerObject.on( '*', listenerObject )\n    //\n    // .off(...)\n    //\n    // eventName*: eventName | Array<eventName>\n    // eventName: string\n    //\n    // listenerFunc: function\n    // listenerFuncName: string\n    // listenerObject: object\n    //\n    // ----------------------------------------------------------------------------------------\n    on(...args) {\n      return subscribeTo(store, args);\n    },\n    once(...args) {\n      const listeners = subscribeTo(store, args);\n      if (Array.isArray(listeners)) {\n        listeners.forEach(removeListener(obj));\n      } else {\n        removeListener(obj)(listeners);\n      }\n      return listeners;\n    },\n    off(listener, listenerObject) {\n      store.remove(listener, listenerObject);\n    },\n    emit(eventName, ...args) {\n      if (Array.isArray(eventName)) {\n        eventName.forEach(event => store.forEach(event, listener => listener.apply(event, args)));\n      } else if (eventName !== EVENT_CATCH_EM_ALL) {\n        store.forEach(eventName, listener => listener.apply(eventName, args));\n      }\n    },\n  });\n  return obj;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/inject.js","import { EVENT_CATCH_EM_ALL } from './constants';\nimport EventListener from './EventListener';\n\nconst sortByPrioAndId = (a, b) => (a.priority !== b.priority ? b.priority - a.priority : a.id - b.id);\n\nconst cloneArray = (arr) => {\n  if (arr) {\n    return arr.slice(0);\n  }\n};\n\nconst removeListenerItem = (arr, listener) => {\n  const idx = arr.indexOf(listener);\n  if (idx > -1) {\n    arr.splice(idx, 1);\n  }\n};\n\nconst removeListener = (listeners, listener, listenerObject) => {\n  const idx = listeners.findIndex(item => item.isEqual(listener, listenerObject));\n  if (idx > -1) {\n    listeners[idx].isRemoved = true;\n    listeners.splice(idx, 1);\n  }\n};\n\nconst removeAllListeners = (listeners) => {\n  if (listeners) {\n    listeners.forEach((li) => {\n      li.isRemoved = true;\n    });\n    listeners.length = 0;\n  }\n};\n\nexport default class EventStore {\n  constructor() {\n    this.namedListeners = new Map();\n    this.catchEmAllListeners = [];\n  }\n\n  add(eventListener) {\n    if (eventListener.isCatchEmAll) {\n      this.catchEmAllListeners.push(eventListener);\n      this.catchEmAllListeners.sort(sortByPrioAndId);\n    } else {\n      const { eventName } = eventListener;\n      let namedListeners = this.namedListeners.get(eventName);\n      if (!namedListeners) {\n        namedListeners = [];\n        this.namedListeners.set(eventName, namedListeners);\n      }\n      namedListeners.push(eventListener);\n      namedListeners.sort(sortByPrioAndId);\n    }\n  }\n\n  remove(listener, listenerObject) {\n    if (listenerObject == null && Array.isArray(listener)) {\n      listener.forEach(this.remove.bind(this));\n    } else if (listener == null || (listenerObject == null && listener === EVENT_CATCH_EM_ALL)) {\n      this.removeAllListeners();\n    } else if (listenerObject == null && typeof listener === 'string') {\n      const listeners = this.namedListeners.get(listener);\n      removeAllListeners(listeners);\n    } else if (listener instanceof EventListener) {\n      listener.isRemoved = true;\n      this.namedListeners.forEach(namedListeners => removeListenerItem(namedListeners, listener));\n      removeListenerItem(this.catchEmAllListeners, listener);\n    } else {\n      this.namedListeners.forEach(namedListeners => removeListener(namedListeners, listener, listenerObject));\n      removeListener(this.catchEmAllListeners, listener, listenerObject);\n    }\n  }\n\n  removeAllListeners() {\n    this.namedListeners.forEach(namedListeners => removeAllListeners(namedListeners));\n    this.namedListeners.clear();\n    removeAllListeners(this.catchEmAllListeners);\n  }\n\n  forEach(eventName, fn) {\n    const catchEmAllListeners = cloneArray(this.catchEmAllListeners);\n    const namedListeners = cloneArray(this.namedListeners.get(eventName));\n    if (eventName === EVENT_CATCH_EM_ALL || !namedListeners || namedListeners.length === 0) {\n      catchEmAllListeners.forEach(fn);\n    } else if (catchEmAllListeners.length === 0) {\n      namedListeners.forEach(fn);\n    } else {\n      const iLen = namedListeners.length;\n      const jLen = catchEmAllListeners.length;\n      let i = 0;\n      let j = 0;\n      while (i < iLen || j < jLen) {\n        if (i < iLen) {\n          const cur = namedListeners[i];\n          if (j >= jLen || cur.priority >= catchEmAllListeners[j].priority) {\n            fn(cur);\n            ++i;\n            continue;\n          }\n        }\n        if (j < jLen) {\n          fn(catchEmAllListeners[j]);\n          ++j;\n        }\n      }\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/EventStore.js","\nexport const definePublicPropertyRO = (obj, name, value) => {\n  Object.defineProperty(obj, name, {\n    value,\n    configurable: true,\n    enumerable: true,\n  });\n  return obj;\n};\n\nexport const definePublicPropertiesRO = (obj, attrs) => {\n  const keys = Object.keys(attrs);\n  const len = keys.length;\n  for (let i = 0; i < len; i += 1) {\n    definePublicPropertyRO(obj, keys[i], attrs[keys[i]]);\n  }\n  return obj;\n};\n\nexport const defineHiddenPropertyRO = (obj, name, value) => {\n  Object.defineProperty(obj, name, {\n    value,\n    configurable: true,\n  });\n  return obj;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/propUtils.js","import EventListener from './EventListener';\n\nimport { hasConsole, warn } from './logUtils';\n\nimport {\n  EVENT_CATCH_EM_ALL,\n  PRIO_DEFAULT,\n} from './constants';\n\nconst registerEventListener = (store, eventName, priority, listener, listenerObject) => {\n  const eventListener = new EventListener(eventName, priority, listener, listenerObject);\n  store.add(eventListener);\n  return eventListener;\n};\n\nconst subscribeTo = (store, args) => {\n  const len = args.length;\n  const typeOfFirstArg = typeof args[0];\n\n  let eventName;\n  let priority;\n  let listener;\n  let listenerObject;\n\n  if (len >= 2 && len <= 3 && typeOfFirstArg === 'number') {\n    eventName = EVENT_CATCH_EM_ALL;\n    [priority, listener, listenerObject] = args;\n  } else if (len >= 3 && len <= 4 && typeof args[1] === 'number') {\n    [eventName, priority, listener, listenerObject] = args;\n  } else {\n    priority = PRIO_DEFAULT;\n    if (typeOfFirstArg === 'string' || Array.isArray(args[0])) {\n      [eventName, listener, listenerObject] = args;\n    } else {\n      eventName = EVENT_CATCH_EM_ALL;\n      [listener, listenerObject] = args;\n    }\n  }\n\n  if (!listener && hasConsole) {\n    warn('called with insufficient arguments!', args);\n    return;\n  }\n\n  const register = event => registerEventListener(\n    store, event,\n    priority, listener, listenerObject,\n  );\n\n  if (Array.isArray(eventName)) {\n    return eventName.map(register);\n  }\n  return register(eventName);\n};\n\nexport default subscribeTo;\n\n\n\n// WEBPACK FOOTER //\n// ./src/subscribeTo.js","\nimport { LOG_NAMESPACE } from './constants';\n\nexport const hasConsole = typeof console !== 'undefined';\n\nexport const warn = hasConsole ? console[console.warn ? 'warn' : 'log'].bind(console, LOG_NAMESPACE) : () => undefined; // eslint-disable-line\n\n\n\n// WEBPACK FOOTER //\n// ./src/logUtils.js"],"sourceRoot":""}