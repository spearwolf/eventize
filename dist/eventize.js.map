{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap d5c4fe97c85ac2d247d1","webpack:///./src/constants.js","webpack:///./src/EventListener.js","webpack:///./src/eventize.umd.js","webpack:///./src/eventize.js","webpack:///./src/inject.js","webpack:///./src/EventStore.js","webpack:///./src/EventKeeper.js","webpack:///./src/propUtils.js","webpack:///./src/subscribeTo.js","webpack:///./src/logUtils.js"],"names":["EVENT_CATCH_EM_ALL","LISTENER_UNKNOWN","LISTENER_IS_FUNC","LISTENER_IS_NAMED_FUNC","LISTENER_IS_OBJ","PRIO_MAX","Number","POSITIVE_INFINITY","PRIO_A","PRIO_B","PRIO_C","PRIO_DEFAULT","PRIO_LOW","PRIO_MIN","NEGATIVE_INFINITY","NAMESPACE","Symbol","eventize","LOG_NAMESPACE","apply","context","func","args","emit","eventName","listener","concat","detectListenerType","lastId","createUniqId","EventListener","constructor","priority","listenerObject","id","isCatchEmAll","listenerType","callAfterApply","undefined","isRemoved","isEqual","module","exports","obj","inject","extend","Object","create","eventizer","on","is","assign","injectEventizeApi","removeListener","off","store","keeper","once","listeners","Array","isArray","forEach","remove","filter","li","event","retain","add","sortByPrioAndId","a","b","cloneArray","arr","slice","removeListenerItem","idx","indexOf","splice","findIndex","item","removeAllListeners","length","EventStore","namedListeners","Map","catchEmAllListeners","eventListener","push","sort","get","set","bind","clear","fn","iLen","jLen","i","j","cur","EventKeeper","events","eventNames","Set","en","delete","has","isKnown","definePublicPropertyRO","name","value","defineProperty","configurable","enumerable","definePublicPropertiesRO","attrs","keys","len","defineHiddenPropertyRO","registerEventListener","subscribeTo","typeOfFirstArg","register","prio","map","hasConsole","console","warn"],"mappings":"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","file":"eventize.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"eventize\"] = factory();\n\telse\n\t\troot[\"eventize\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap d5c4fe97c85ac2d247d1","export const EVENT_CATCH_EM_ALL = '*';\n\nexport const LISTENER_UNKNOWN       = 0;\nexport const LISTENER_IS_FUNC       = 1;\nexport const LISTENER_IS_NAMED_FUNC = 2;\nexport const LISTENER_IS_OBJ        = 4;\n\nexport const PRIO_MAX     = Number.POSITIVE_INFINITY;\nexport const PRIO_A       = 1000000000;\nexport const PRIO_B       = 1000000;\nexport const PRIO_C       = 1000;\nexport const PRIO_DEFAULT = 0;\nexport const PRIO_LOW     = -10000;\nexport const PRIO_MIN     = Number.NEGATIVE_INFINITY;\n\nexport const NAMESPACE = (() => {\n  if (!Symbol.eventize) {\n    Symbol.eventize = Symbol('eventize');\n  }\n  return Symbol.eventize;\n})();\n\nexport const LOG_NAMESPACE = '[@spearwolf/eventize]';\n\n\n\n// WEBPACK FOOTER //\n// ./src/constants.js","import {\n  EVENT_CATCH_EM_ALL,\n  LISTENER_IS_FUNC,\n  LISTENER_IS_NAMED_FUNC,\n  LISTENER_IS_OBJ,\n} from './constants';\n\nconst apply = (context, func, args) => {\n  if (typeof func === 'function') {\n    func.apply(context, args);\n  }\n};\n\nconst emit = (eventName, listener, args) => apply(\n  listener,\n  listener.emit,\n  [eventName].concat(args),\n);\n\nconst detectListenerType = (listener) => {\n  switch (typeof listener) {\n    case 'function':\n      return LISTENER_IS_FUNC;\n    case 'string':\n      return LISTENER_IS_NAMED_FUNC;\n    case 'object':\n      return LISTENER_IS_OBJ;\n  }\n};\n\nlet lastId = 0;\nconst createUniqId = () => ++lastId;\n\nexport default class EventListener {\n  constructor(eventName, priority, listener, listenerObject = null) {\n    this.id = createUniqId();\n    this.eventName = eventName;\n    this.isCatchEmAll = eventName === EVENT_CATCH_EM_ALL;\n    this.listener = listener;\n    this.listenerObject = listenerObject;\n    this.priority = priority;\n    this.listenerType = detectListenerType(listener);\n    this.callAfterApply = undefined;\n    this.isRemoved = false;\n  }\n\n  isEqual(listener, listenerObject = null) {\n    if (listener === this) return true;\n    if (typeof listener === 'number' && listener === this.id) return true;\n    if (listenerObject === null && typeof listener === 'string') {\n      if (listener === EVENT_CATCH_EM_ALL) return true;\n      if (listener === this.eventName) return true;\n      return false;\n    }\n    return this.listener === listener && this.listenerObject === listenerObject;\n  }\n\n  apply(eventName, args) {\n    if (this.isRemoved) return;\n\n    const { listener, listenerObject } = this;\n\n    switch (this.listenerType) {\n      case LISTENER_IS_FUNC:\n        apply(listenerObject, listener, args);\n        if (this.callAfterApply) this.callAfterApply();\n        break;\n\n      case LISTENER_IS_NAMED_FUNC:\n        apply(listenerObject, listenerObject[listener], args);\n        if (this.callAfterApply) this.callAfterApply();\n        break;\n\n      case LISTENER_IS_OBJ: {\n        const func = listener[eventName];\n        if (this.isCatchEmAll || this.eventName === eventName) {\n          if (typeof func === 'function') {\n            func.apply(listener, args);\n          } else {\n            emit(eventName, listener, args);\n          }\n          if (this.callAfterApply) this.callAfterApply();\n        }\n        break;\n      }\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/EventListener.js","import eventize from './eventize';\n\nmodule.exports = eventize;\n\n\n\n// WEBPACK FOOTER //\n// ./src/eventize.umd.js","import injectEventizeApi from './inject';\n\nimport {\n  EVENT_CATCH_EM_ALL,\n  NAMESPACE,\n  PRIO_A,\n  PRIO_B,\n  PRIO_C,\n  PRIO_DEFAULT,\n  PRIO_LOW,\n  PRIO_MAX,\n  PRIO_MIN,\n} from './constants';\n\nfunction eventize(obj) {\n  return injectEventizeApi(obj);\n}\n\neventize.inject = injectEventizeApi;\n\neventize.extend = obj => injectEventizeApi(Object.create(obj));\n\neventize.create = (obj) => {\n  const eventizer = injectEventizeApi({});\n  eventizer.on(EVENT_CATCH_EM_ALL, PRIO_DEFAULT, obj);\n  return eventizer;\n};\n\neventize.is = obj => !!(obj && obj[NAMESPACE]);\n\nObject.assign(eventize, {\n  PRIO_MAX,\n  PRIO_A,\n  PRIO_B,\n  PRIO_C,\n  PRIO_DEFAULT,\n  PRIO_LOW,\n  PRIO_MIN,\n});\n\nexport default eventize;\nexport {\n  EVENT_CATCH_EM_ALL,\n  NAMESPACE,\n  PRIO_MAX,\n  PRIO_A,\n  PRIO_B,\n  PRIO_C,\n  PRIO_DEFAULT,\n  PRIO_LOW,\n  PRIO_MIN,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/eventize.js","import EventStore from './EventStore';\nimport EventKeeper from './EventKeeper';\nimport { defineHiddenPropertyRO } from './propUtils';\nimport subscribeTo from './subscribeTo';\n\nimport {\n  EVENT_CATCH_EM_ALL,\n  NAMESPACE,\n} from './constants';\n\nconst removeListener = obj => (listener) => {\n  listener.callAfterApply = () => obj.off(listener);\n};\n\nexport default function injectEventizeApi(obj) {\n  if (obj[NAMESPACE]) return obj;\n\n  const store = new EventStore();\n  const keeper = new EventKeeper();\n  defineHiddenPropertyRO(obj, NAMESPACE, { keeper, store });\n\n  Object.assign(obj, {\n    // ----------------------------------------------------------------------------------------\n    //\n    // .on( eventName*, [ priority, ] listenerFunc [, listenerObject] )\n    // .on( eventName*, [ priority, ] listenerFuncName, listenerObject )\n    // .on( eventName*, [ priority, ] listenerObject )\n    //\n    // .on( [ priority, ] listenerFunc [, listenerObject] )\n    //                                            => listenerObject.on( '*', listenerFunc )\n    // .on( [ priority, ] listenerObject )\n    //                                            => listenerObject.on( '*', listenerObject )\n    //\n    // .off(...)\n    //\n    // eventName*: eventName | Array<eventName>\n    // eventName: string\n    //\n    // listenerFunc: function\n    // listenerFuncName: string\n    // listenerObject: object\n    //\n    // ----------------------------------------------------------------------------------------\n    on(...args) {\n      return subscribeTo(store, keeper, args);\n    },\n    once(...args) {\n      const listeners = subscribeTo(store, keeper, args);\n      if (Array.isArray(listeners)) {\n        listeners.forEach(removeListener(obj));\n      } else {\n        removeListener(obj)(listeners);\n      }\n      return listeners;\n    },\n    off(listener, listenerObject) {\n      store.remove(listener, listenerObject);\n      if (Array.isArray(listener)) {\n        keeper.remove(listener.filter(li => typeof li === 'string'));\n      } else if (typeof listener === 'string') {\n        keeper.remove(listener);\n      }\n    },\n    emit(eventName, ...args) {\n      if (Array.isArray(eventName)) {\n        eventName.forEach((event) => {\n          store.forEach(event, listener => listener.apply(event, args));\n          keeper.retain(event, args);\n        });\n      } else if (eventName !== EVENT_CATCH_EM_ALL) {\n        store.forEach(eventName, listener => listener.apply(eventName, args));\n        keeper.retain(eventName, args);\n      }\n    },\n    retain(eventName) {\n      keeper.add(eventName);\n    },\n  });\n  return obj;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/inject.js","import { EVENT_CATCH_EM_ALL } from './constants';\nimport EventListener from './EventListener';\n\nconst sortByPrioAndId = (a, b) => (a.priority !== b.priority ? b.priority - a.priority : a.id - b.id);\n\nconst cloneArray = (arr) => {\n  if (arr) {\n    return arr.slice(0);\n  }\n};\n\nconst removeListenerItem = (arr, listener) => {\n  const idx = arr.indexOf(listener);\n  if (idx > -1) {\n    arr.splice(idx, 1);\n  }\n};\n\nconst removeListener = (listeners, listener, listenerObject) => {\n  const idx = listeners.findIndex(item => item.isEqual(listener, listenerObject));\n  if (idx > -1) {\n    listeners[idx].isRemoved = true;\n    listeners.splice(idx, 1);\n  }\n};\n\nconst removeAllListeners = (listeners) => {\n  if (listeners) {\n    listeners.forEach((li) => {\n      li.isRemoved = true;\n    });\n    listeners.length = 0;\n  }\n};\n\nexport default class EventStore {\n  constructor() {\n    this.namedListeners = new Map();\n    this.catchEmAllListeners = [];\n  }\n\n  add(eventListener) {\n    if (eventListener.isCatchEmAll) {\n      this.catchEmAllListeners.push(eventListener);\n      this.catchEmAllListeners.sort(sortByPrioAndId);\n    } else {\n      const { eventName } = eventListener;\n      let namedListeners = this.namedListeners.get(eventName);\n      if (!namedListeners) {\n        namedListeners = [];\n        this.namedListeners.set(eventName, namedListeners);\n      }\n      namedListeners.push(eventListener);\n      namedListeners.sort(sortByPrioAndId);\n    }\n  }\n\n  remove(listener, listenerObject) {\n    if (listenerObject == null && Array.isArray(listener)) {\n      listener.forEach(this.remove.bind(this));\n    } else if (listener == null || (listenerObject == null && listener === EVENT_CATCH_EM_ALL)) {\n      this.removeAllListeners();\n    } else if (listenerObject == null && typeof listener === 'string') {\n      const listeners = this.namedListeners.get(listener);\n      removeAllListeners(listeners);\n    } else if (listener instanceof EventListener) {\n      listener.isRemoved = true;\n      this.namedListeners.forEach(namedListeners => removeListenerItem(namedListeners, listener));\n      removeListenerItem(this.catchEmAllListeners, listener);\n    } else {\n      this.namedListeners.forEach(namedListeners => removeListener(namedListeners, listener, listenerObject));\n      removeListener(this.catchEmAllListeners, listener, listenerObject);\n    }\n  }\n\n  removeAllListeners() {\n    this.namedListeners.forEach(namedListeners => removeAllListeners(namedListeners));\n    this.namedListeners.clear();\n    removeAllListeners(this.catchEmAllListeners);\n  }\n\n  forEach(eventName, fn) {\n    const catchEmAllListeners = cloneArray(this.catchEmAllListeners);\n    const namedListeners = cloneArray(this.namedListeners.get(eventName));\n    if (eventName === EVENT_CATCH_EM_ALL || !namedListeners || namedListeners.length === 0) {\n      catchEmAllListeners.forEach(fn);\n    } else if (catchEmAllListeners.length === 0) {\n      namedListeners.forEach(fn);\n    } else {\n      const iLen = namedListeners.length;\n      const jLen = catchEmAllListeners.length;\n      let i = 0;\n      let j = 0;\n      while (i < iLen || j < jLen) {\n        if (i < iLen) {\n          const cur = namedListeners[i];\n          if (j >= jLen || cur.priority >= catchEmAllListeners[j].priority) {\n            fn(cur);\n            ++i;\n            continue;\n          }\n        }\n        if (j < jLen) {\n          fn(catchEmAllListeners[j]);\n          ++j;\n        }\n      }\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/EventStore.js","import { EVENT_CATCH_EM_ALL } from './constants';\n\nexport default class EventKeeper {\n  constructor() {\n    this.events = new Map();\n    this.eventNames = new Set();\n  }\n\n  add(eventName) {\n    if (Array.isArray(eventName)) {\n      eventName.forEach(en => this.eventNames.add(en));\n    } else {\n      this.eventNames.add(eventName);\n    }\n  }\n\n  remove(eventName) {\n    if (Array.isArray(eventName)) {\n      eventName.forEach(en => this.remove(en));\n    } else {\n      this.eventNames.delete(eventName);\n    }\n  }\n\n  retain(eventName, args) {\n    if (this.eventNames.has(eventName)) {\n      this.events.set(eventName, args);\n    }\n  }\n\n  isKnown(eventName) {\n    return this.eventNames.has(eventName);\n  }\n\n  emit(eventName, eventListener) {\n    if (eventName === EVENT_CATCH_EM_ALL) {\n      this.eventNames.forEach(en => this.emit(en, eventListener));\n    } else {\n      const args = this.events.get(eventName);\n      if (args) {\n        eventListener.apply(eventName, args);\n      }\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/EventKeeper.js","\nexport const definePublicPropertyRO = (obj, name, value) => {\n  Object.defineProperty(obj, name, {\n    value,\n    configurable: true,\n    enumerable: true,\n  });\n  return obj;\n};\n\nexport const definePublicPropertiesRO = (obj, attrs) => {\n  const keys = Object.keys(attrs);\n  const len = keys.length;\n  for (let i = 0; i < len; i += 1) {\n    definePublicPropertyRO(obj, keys[i], attrs[keys[i]]);\n  }\n  return obj;\n};\n\nexport const defineHiddenPropertyRO = (obj, name, value) => {\n  Object.defineProperty(obj, name, {\n    value,\n    configurable: true,\n  });\n  return obj;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/propUtils.js","import EventListener from './EventListener';\n\nimport { hasConsole, warn } from './logUtils';\n\nimport {\n  EVENT_CATCH_EM_ALL,\n  PRIO_DEFAULT,\n} from './constants';\n\nconst registerEventListener = (store, keeper, eventName, priority, listener, listenerObject) => {\n  const eventListener = new EventListener(eventName, priority, listener, listenerObject);\n  store.add(eventListener);\n  keeper.emit(eventName, eventListener);\n  return eventListener;\n};\n\nconst subscribeTo = (store, keeper, args) => {\n  const len = args.length;\n  const typeOfFirstArg = typeof args[0];\n\n  let eventName;\n  let priority;\n  let listener;\n  let listenerObject;\n\n  if (len >= 2 && len <= 3 && typeOfFirstArg === 'number') {\n    eventName = EVENT_CATCH_EM_ALL;\n    [priority, listener, listenerObject] = args;\n  } else if (len >= 3 && len <= 4 && typeof args[1] === 'number') {\n    [eventName, priority, listener, listenerObject] = args;\n  } else {\n    priority = PRIO_DEFAULT;\n    if (typeOfFirstArg === 'string' || Array.isArray(args[0])) {\n      [eventName, listener, listenerObject] = args;\n    } else {\n      eventName = EVENT_CATCH_EM_ALL;\n      [listener, listenerObject] = args;\n    }\n  }\n\n  if (!listener && hasConsole) {\n    warn('called with insufficient arguments!', args);\n    return;\n  }\n\n  const register = prio => event => registerEventListener(\n    store, keeper, event,\n    prio, listener, listenerObject,\n  );\n\n  if (Array.isArray(eventName)) {\n    return eventName.map((name) => {\n      if (Array.isArray(name)) {\n        return register(name[1])(name[0]);\n      }\n      return register(priority)(name);\n    });\n  }\n  return register(priority)(eventName);\n};\n\nexport default subscribeTo;\n\n\n\n// WEBPACK FOOTER //\n// ./src/subscribeTo.js","\nimport { LOG_NAMESPACE } from './constants';\n\nexport const hasConsole = typeof console !== 'undefined';\n\nexport const warn = hasConsole ? console[console.warn ? 'warn' : 'log'].bind(console, LOG_NAMESPACE) : () => undefined; // eslint-disable-line\n\n\n\n// WEBPACK FOOTER //\n// ./src/logUtils.js"],"sourceRoot":""}