/**
 * ===============================================================
 * eventize.js v0.0.13 -- https://github.com/spearwolf/eventize
 * ===============================================================
 *
 * Copyright 2015-16 Wolfger Schramm <wolfger@spearwolf.de>
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
!function(n){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.eventize=n()}}(function(){return function n(e,t,r){function o(f,u){if(!t[f]){if(!e[f]){var c="function"==typeof require&&require;if(!u&&c)return c(f,!0);if(i)return i(f,!0);var a=Error("Cannot find module '"+f+"'");throw a.code="MODULE_NOT_FOUND",a}var l=t[f]={exports:{}};e[f][0].call(l.exports,function(n){var t=e[f][1][n];return o(t?t:n)},l,l.exports,n,e,t,r)}return t[f].exports}for(var i="function"==typeof require&&require,f=0;f<r.length;f++)o(r[f]);return o}({1:[function(n,e,t){"use strict";function r(n){function e(){return++u.lastCallbackId}function t(n,e){return n.prio!==e.prio?e.prio-n.prio:n.id-e.id}function o(n){if(n){var e=u.boundObjects.indexOf(n);return e===-1&&u.boundObjects.push(n),n}}function i(n,e,t){var o,i,f,u;for(i in t)t.hasOwnProperty(i)&&(f=e[i],"function"==typeof f&&(o=t[i],Array.isArray(o)?(u=o[0],o=o[1]):u=r.PRIO_DEFAULT,n.on(o,u,f)));return n}function f(n,e,t){function o(){var e,r,o;if(p)for(e=0;e<p;e++)r=u.boundObjects[e],o=r[n],"function"==typeof o?t(o,r):r[d]&&t(null,r)}if(!(s.silenced||s.off.indexOf(n)>=0)){var i,f,c,a=u.callbacks[n],l=u.callbacks[v],p=u.boundObjects.length,y=!1;if(a||l.length)for(a=a?a.concat(l):l,f=a.length,i=0;i<f;i++)c=a[i],!y&&c&&c.prio<r.PRIO_DEFAULT&&(o(),y=!0),e(c);y||o()}}if(n[d])return n;var u={lastCallbackId:0,callbacks:{},boundObjects:[]};u.callbacks[v]=[];var s=a({},{silenced:!1,off:[]});return l(n,d,s),void 0===r.PRIO_DEFAULT&&a(r,{PRIO_MAX:Number.POSITIVE_INFINITY,PRIO_A:1e9,PRIO_B:1e7,PRIO_C:1e5,PRIO_DEFAULT:0,PRIO_LOW:-1e5,PRIO_MIN:Number.NEGATIVE_INFINITY}),n.on=function(n,o,i){var f=arguments.length;if(0===f)return void(s.silenced&&(c(s,"silenced",!1),s.off.length=0));var l;if(1===f){if("string"==typeof n)return l=s.off.indexOf(n),void(l>=0&&s.off.splice(l,1));if("object"!=typeof n&&"function"!=typeof n)return void console.warn(y,".on() called with insufficient arguments!",arguments);i=n,n=v,o=r.PRIO_DEFAULT}2===f&&(i=o,o=r.PRIO_DEFAULT);var p=u.callbacks,d=p[n]||(p[n]=[]),x=e(),h=a({},{id:x,fn:i,prio:"number"!=typeof o?r.PRIO_DEFAULT:o,isFunction:"function"==typeof i});return d.push(h),d.sort(t),x},n.once=function(e,t,o){var i=arguments.length;if(!i||i>3)return void console.warn(y,".once() called with insufficient arguments!",arguments);1===i?(o=e,e=v,t=r.PRIO_DEFAULT):2===i&&(o=t,t=r.PRIO_DEFAULT);var f=n.on(e,t,function(){var e=o.apply(this,arguments);return n.off(f),e});return f},n.off=function(n){if(0===arguments.length)return void(s.silenced||(c(s,"silenced",!0),s.off.length=0));if("string"==typeof n)return void(s.off.indexOf(n)===-1&&s.off.push(n));var e,t,r,o,i,f=u.callbacks,a="object"==typeof n;if("number"==typeof n||"function"==typeof n||a)for(i=Object.keys(f),r=0;r<i.length;r++)for(o=f[i[r]],t=0;t<o.length;t++)if(e=o[t],(e.id===n||e.fn===n)&&(o.splice(t,1),!a))return;a&&(t=u.boundObjects.indexOf(n),t>=0&&u.boundObjects.splice(t,1))},n.connect=function(n,e){var t=arguments.length;return 1===t?o(n):2===t?i(this,n,e):void console.warn(y,".connect() called with insufficient arguments!",arguments)},n.emit=function(){for(var n=Array(arguments.length),e=0;e<n.length;++e)n[e]=arguments[e];var t,r,o,i=this;n.length>1&&"string"!=typeof n[0]&&"string"==typeof n[1]?(r=n.shift(),t=n.shift(),n[n.length-1]=r,o=n):(t=n.shift(),o=n.concat([i])),f(t,function(e){if(e.isFunction)e.fn.apply(i,n);else{var r=e.fn[t];"function"==typeof r?r.apply(e.fn,o):e.fn[d]&&e.fn.emit.apply(e.fn,[t].concat(n))}},function(n,e){n?n.apply(e,o):e.emit.apply(e,[i,t].concat(o))})},n.emitReduce=function(){function n(n){void 0!==n&&(r=n)}for(var e=Array(arguments.length),t=0;t<e.length;++t)e[t]=arguments[t];var r,o=e.shift();0===e.length?(r={},e.push(r)):n(e[0]);var i=this,u=[o].concat(e),c=e.concat([i]);return f(o,function(t){if(t.isFunction)e[0]=r,n(t.fn.apply(i,e));else{var f=t.fn[o];"function"==typeof f?(c[0]=r,n(f.apply(t.fn,c))):t.fn[d]&&(u[1]=r,n(t.fn.emitReduce.apply(t.fn,u)))}},function(e,t){e&&(c[0]=r,n(e.apply(t,c)))}),r},n}function o(n,e){var t=("string"==typeof n||"symbol"==typeof n)&&n||i(),o=r({}),f=!(!e||!e.replace),u=function(n){c(o,x,n)},a=function(n){o.emit.apply(o,n)};return l(o,"events",[]),c(o,"name",t),o.collect=function(){return o[x]!==b&&u(b),o},o.emit=function(){var n=Array.prototype.slice.call(arguments,0);if(o[x]===h)a(n);else{if(f)for(var e=0,t=o.events.length;e<t;e++)if(o.events[e][0]===n[0])return void(o.events[e]=n);o.events.push(n)}},o.play=function(){return o[x]!==h&&(u(h),o.events.forEach(a),o.events.length=0),o},o.play()}function i(){var n="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var e=16*Math.random()|0,t="x"==n?e:3&e|8;return t.toString(16)});return p?Symbol(n):n}function f(){return"undefined"!=typeof Symbol}function u(){return"undefined"!=typeof Map}function c(n,e,t){return Object.defineProperty(n,e,{value:t,configurable:!0,enumerable:!0}),n}function a(n,e){var t,r=Object.keys(e);for(t=r.length;t--;)c(n,r[t],e[r[t]]);return n}function l(n,e,t){return Object.defineProperty(n,e,{value:t,configurable:!0}),n}var s=u(),p=f(),d=p?Symbol("eventize"):"_eventize",v="*",y="[eventize.js]";r.is=function(n){return!(!n||!n[d])},l(r,"EventizeNamespace",d),l(r,"queues",s?new Map:{}),r.queue=function(n,e){var t=n?s?r.queues.get(n):r.queues[n]:null;return t||(t=o(n,e),s?r.queues.set(t.name,t):r.queues[t.name]=t),t};var x="state",h="play",b="collect";e.exports=r},{}]},{},[1])(1)});