/**
 * ===============================================================
 * eventize.js v0.0.11 -- https://github.com/spearwolf/eventize
 * ===============================================================
 *
 * Copyright 2015-16 Wolfger Schramm <wolfger@spearwolf.de>
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
!function(n){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.eventize=n()}}(function(){return function n(e,t,f){function i(r,c){if(!t[r]){if(!e[r]){var u="function"==typeof require&&require;if(!c&&u)return u(r,!0);if(o)return o(r,!0);var l=Error("Cannot find module '"+r+"'");throw l.code="MODULE_NOT_FOUND",l}var a=t[r]={exports:{}};e[r][0].call(a.exports,function(n){var t=e[r][1][n];return i(t?t:n)},a,a.exports,n,e,t,f)}return t[r].exports}for(var o="function"==typeof require&&require,r=0;r<f.length;r++)i(f[r]);return i}({1:[function(n,e,t){"use strict";function f(n){function e(){return++d.lastCallbackId}function t(n,e){return n.prio!==e.prio?e.prio-n.prio:n.id-e.id}function a(n){if(n){var e=d.boundObjects.indexOf(n);return-1===e&&d.boundObjects.push(n),n}}function s(n,e,t){var i,o,r,c;for(o in t)t.hasOwnProperty(o)&&(r=e[o],"function"==typeof r&&(i=t[o],Array.isArray(i)?(c=i[0],i=i[1]):c=f.PRIO_DEFAULT,n.on(i,c,r)));return n}function p(n,e,t){function i(){var e,f,i;if(p)for(e=0;p>e;e++)f=d.boundObjects[e],i=f[n],"function"==typeof i?t(i,f):f[c]&&t(null,f)}if(!(v.silenced||v.off.indexOf(n)>=0)){var o,r,l,a=d.callbacks[n],s=d.callbacks[u],p=d.boundObjects.length,y=!1;if(a||s.length)for(a=a?a.concat(s):s,r=a.length,o=0;r>o;o++)l=a[o],!y&&l&&l.prio<f.PRIO_DEFAULT&&(i(),y=!0),e(l);y||i()}}if(n[c])return n;var d={lastCallbackId:0,callbacks:{},boundObjects:[]};d.callbacks[u]=[];var v=o({},{silenced:!1,off:[]});return r(n,c,v),void 0===f.PRIO_DEFAULT&&o(f,{PRIO_MAX:Number.POSITIVE_INFINITY,PRIO_A:1e9,PRIO_B:1e7,PRIO_C:1e5,PRIO_DEFAULT:0,PRIO_LOW:-1e5,PRIO_MIN:Number.NEGATIVE_INFINITY}),n.on=function(n,r,c){var a=arguments.length;if(0===a)return void(v.silenced&&(i(v,"silenced",!1),v.off.length=0));var s;if(1===a){if("string"==typeof n)return s=v.off.indexOf(n),void(s>=0&&v.off.splice(s,1));if("object"!=typeof n&&"function"!=typeof n)return void console.warn(l,".on() called with insufficient arguments!",arguments);c=n,n=u,r=f.PRIO_DEFAULT}2===a&&(c=r,r=f.PRIO_DEFAULT);var p=d.callbacks,y=p[n]||(p[n]=[]),b=e(),h=o({},{id:b,fn:c,prio:"number"!=typeof r?f.PRIO_DEFAULT:r,isFunction:"function"==typeof c});return y.push(h),y.sort(t),b},n.once=function(e,t,i){var o=arguments.length;if(!o||o>3)return void console.warn(l,".once() called with insufficient arguments!",arguments);1===o?(i=e,e=u,t=f.PRIO_DEFAULT):2===o&&(i=t,t=f.PRIO_DEFAULT);var r=n.on(e,t,function(){var e=i.apply(this,arguments);return n.off(r),e});return r},n.off=function(n){if(0===arguments.length)return void(v.silenced||(i(v,"silenced",!0),v.off.length=0));if("string"==typeof n)return void(-1===v.off.indexOf(n)&&v.off.push(n));var e,t,f,o,r,c=d.callbacks,u="object"==typeof n;if("number"==typeof n||"function"==typeof n||u)for(r=Object.keys(c),f=0;f<r.length;f++)for(o=c[r[f]],t=0;t<o.length;t++)if(e=o[t],(e.id===n||e.fn===n)&&(o.splice(t,1),!u))return;u&&(t=d.boundObjects.indexOf(n),t>=0&&d.boundObjects.splice(t,1))},n.connect=function(n,e){var t=arguments.length;return 1===t?a(n):2===t?s(this,n,e):void console.warn(l,".connect() called with insufficient arguments!",arguments)},n.emit=function(){for(var n=Array(arguments.length),e=0;e<n.length;++e)n[e]=arguments[e];var t,f,i,o=this;n.length>1&&"string"!=typeof n[0]&&"string"==typeof n[1]?(f=n.shift(),t=n.shift(),n[n.length-1]=f,i=n):(t=n.shift(),i=n.concat([o])),p(t,function(e){if(e.isFunction)e.fn.apply(o,n);else{var f=e.fn[t];"function"==typeof f?f.apply(e.fn,i):e.fn[c]&&e.fn.emit.apply(e.fn,[t].concat(n))}},function(n,e){n?n.apply(e,i):e.emit.apply(e,[o,t].concat(i))})},n.emitReduce=function(){function n(n){void 0!==n&&(f=n)}for(var e=Array(arguments.length),t=0;t<e.length;++t)e[t]=arguments[t];var f,i=e.shift();0===e.length?(f={},e.push(f)):n(e[0]);var o=this,r=[i].concat(e),u=e.concat([o]);return p(i,function(t){if(t.isFunction)e[0]=f,n(t.fn.apply(o,e));else{var l=t.fn[i];"function"==typeof l?(u[0]=f,n(l.apply(t.fn,u))):t.fn[c]&&(r[1]=f,n(t.fn.emitReduce.apply(t.fn,r)))}},function(e,t){e&&(u[0]=f,n(e.apply(t,u)))}),f},n}function i(n,e,t){return Object.defineProperty(n,e,{value:t,configurable:!0,enumerable:!0}),n}function o(n,e){var t,f=Object.keys(e);for(t=f.length;t--;)i(n,f[t],e[f[t]]);return n}function r(n,e,t){return Object.defineProperty(n,e,{value:t,configurable:!0}),n}var c="_eventize",u="*",l="[eventize.js]";f.is=function(n){return!(!n||!n[c])},e.exports=f},{}]},{},[1])(1)});